= Hawkular Feed Communications API

This is used for the server to communication with its feeds over WebSockets. It also is used for UI clients to talk to the server as well (presumably for the UI to manage remote resources that are managed by feeds).

This API (both requests and responses) is driven by JSON schemas so clients (both feed and UI) need not be Java in order to talk over this API to the Hawkular server. See the src/main/resources/schema folder. All schemas come with this Maven module's artifact jar inside the "schema" folder. If you have a non-Java client, you can generate your JSON based on those schemas.

If your client is Java, you can use the Java API that also comes with the artifact jar. All JSON messages (requests and responses) have Java POJOs associated with the JSON schemas. These Java POJOs are auto-generated from the schemas. All POJOs are generated in the package "org.hawkular.feedcomm.api" with the name of the POJO being the name of the schema. For example, the schema NotificationMessage.schema.json will have an associated Java POJO autogenerated with the name org.hawkular.feedcomm.api.NotificationMessage.

Because this API flows over WebSockets, multiple requests and responses may be sent and received to clients. Because of this, in order to make it easier on the client to deserialize incoming requests and responses, the messages that flow over the WebSocket connection are not merely the JSON-encoded data. Instead, the JSON-encoded data is prefixed with the name of the schema, optionally prefixed with the package name. For example, suppose NotificationMessage schema results in a JSON of the form:

----
{"message":"the msg here"}
----

The client receiving this message will actually receive the following data:

----
NotificationMessage={"message":"the msg here"}
----

It may optionally look like:

----
org.hawkular.feedcomm.api.NotificationMessage={"message":"the msg here"}
----

A Java client can use the utility org.hawkular.feedcomm.api.ApiDeserializer.deserialize() (passing in that string) to obtain the Java POJO that represents this notification message. A non-Java client can utilize the NotificationMessage.schema.json (note, the name of the schema is the same name as that prefix, minus any optional package name) in order to know how to deserialize the JSON message.
